apply from: "../scripts/android-application.gradle"
apply from: "../scripts/cling.gradle"
apply plugin: 'kotlin-kapt'
apply plugin: 'com.github.dcendents.android-maven'

android {
    packagingOptions {
        exclude 'META-INF/beans.xml'
    }

    buildTypes {
        release {
            minifyEnabled true
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }

        debug {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }

    dataBinding {
        enabled = true
    }

    sourceSets {
        main.java.srcDirs += 'src/main/kotlin'
        test.java.srcDirs += 'src/test/kotlin'
        androidTest.java.srcDirs += 'src/androidTest/kotlin'
    }

    kotlinOptions {
        jvmTarget = "1.8"
    }
}

dependencies {
    implementation fileTree(include: ['*.jar'], dir: 'libs')

    testImplementation Dependencies.test.junit
    testImplementation Dependencies.test.mockito

    implementation Dependencies.kotlin
    implementation Dependencies.coroutines.core
    implementation Dependencies.coroutines.rxJava2

    implementation Dependencies.androidx.navigation.fragment
    implementation Dependencies.androidx.navigation.ui

    implementation Dependencies.androidx.appCompat
    implementation Dependencies.androidx.v4
    implementation Dependencies.androidx.design
    implementation Dependencies.androidx.recyclerView
    implementation Dependencies.androidx.cardView
    implementation Dependencies.androidx.constraintLayout
    implementation Dependencies.androidx.preferences

    implementation Dependencies.androidx.lifecycle
    implementation Dependencies.timber

    implementation Dependencies.kotlin
    implementation Dependencies.rx.kotlin
    implementation Dependencies.rx.android

    implementation Dependencies.glide.core
    kapt Dependencies.glide.compiler

    implementation Dependencies.dagger.core
    compileOnly Dependencies.dagger.annotation
    implementation Dependencies.dagger.android
    implementation Dependencies.dagger.androidSupport

    kapt Dependencies.dagger.compiler
    kapt Dependencies.dagger.androidProcessor

    implementation project(':common')
    implementation project(':upnp')


}

detekt {
    toolVersion = "1.0.0"
    input = files("src/main/java")
    filters = ".*/resources/.*,.*/build/.*"
}